(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dcb967c"],{"0756":function(e,a,t){},"97f0":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("router-link",{staticClass:"ssonav",attrs:{to:{name:"appRoleList",params:{appId:e.$route.params.appId}}}},[t("ArrowLeftBold",{staticClass:"icon-2x"}),e._v(e._s(e.appId)+" ")],1)],1)]),t("form",[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"username"}},[e._v("Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.appUserRole.username,expression:"appUserRole.username"}],staticClass:"form-control",attrs:{type:"text",id:"username"},domProps:{value:e.appUserRole.username},on:{input:[function(a){a.target.composing||e.$set(e.appUserRole,"username",a.target.value)},e.search]}})]),e._l(e.appUserList,(function(a){return t("div",{key:"appUser"+a.id},[t("a",{attrs:{href:"#"},on:{click:function(t){e.selectAppUser(t,a)}}},[e._v(e._s(a.username+" "+a.displayName))])])})),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"appRole"}},[e._v("AppRole")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.appUserRole.appRole,expression:"appUserRole.appRole"}],staticClass:"form-control",attrs:{type:"text",id:"appRole"},domProps:{value:e.appUserRole.appRole},on:{input:function(a){a.target.composing||e.$set(e.appUserRole,"appRole",a.target.value)}}})]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("a",{staticClass:"btn btn-primary",attrs:{href:"#",role:"button"},on:{click:e.save}},[e._v("Save")]),t("router-link",{staticClass:"btn btn-default",attrs:{role:"button",to:{name:"appRoleList",params:{appId:e.$route.params.appId}}}},[e._v(" Cancel ")])],1)]),e._l(e.errors,(function(a,s){return t("div",{key:s,staticClass:"row"},[t("div",{staticClass:"col-12 text-danger"},[e._v(" "+e._s(a)+" ")])])}))],2)])},o=[],r=t("bc3a"),n=t.n(r),p=(t("f9e3"),t("e85b")),l={name:"AppRoleForm",data:function(){return{appId:null,appUserRole:{appId:null,username:null,appRole:null},axiosConfig:{headers:{},data:{}},appUserList:[],errors:[]}},mounted:function(){var e=this;e.axiosConfig.headers["Accept"]="application/json",e.axiosConfig.headers["Content-Type"]="application/json",e.appId=this.$route.params.appId,e.appUserRole.appId=this.$route.params.appId,n.a.get("api/csrf-token",e.axiosConfig).then((function(a){console.log(a),e.axiosConfig.headers[a.data.csrf_header]=a.data.csrf_token,e.fetchRecord()})).catch((function(e){console.log(e)}))},methods:{fetchRecord:function(){var e=this,a=this.$route.params.id;"new"!==a&&n.a.get("api/role/"+a,e.axiosConfig).then((function(a){console.log(a),e.appUserRole=a.data})).catch((function(e){console.log(e)}))},selectAppUser:function(e,a){e.preventDefault(),this.appUserRole.username=a.username,this.appUserList=[]},search:function(){var e=this;n.a.get("api/appUserSearch?name="+e.appUserRole.username,e.axiosConfig).then((function(a){console.log(a),e.appUserList=a.data.content})).catch((function(e){console.log(e)}))},save:function(e){e.preventDefault();var a=this;a.checkForm(),a.errors.length>0||n.a.post("api/role/",a.appUserRole,a.axiosConfig).then((function(e){console.log(e.data),a.$router.push({name:"appRoleList",params:{appId:a.appId}})})).catch((function(e){console.log(e)}))},checkForm:function(){this.errors=[];var e=/^[0-9a-zA-Z]+$/;e.test(this.appUserRole.username)||this.errors.push("username should only contain letter and number"),e.test(this.appUserRole.appRole)||this.errors.push("appRole should only contain letter and number"),""!==this.appUserRole.username&&null!==this.appUserRole.username||this.errors.push("username could not empty"),""!==this.appUserRole.appRole&&null!==this.appUserRole.appRole||this.errors.push("appRole could not empty")}},components:{ArrowLeftBold:p["a"]},watch:{$route:function(){this.appUserRole={appId:null,username:null,appRole:null},this.fetchRecord()}}},i=l,c=(t("bd24"),t("2877")),u=Object(c["a"])(i,s,o,!1,null,null,null);a["default"]=u.exports},bd24:function(e,a,t){"use strict";var s=t("0756"),o=t.n(s);o.a},e85b:function(e,a,t){"use strict";var s=function(e,a){var t=a._c;return t("span",a._g(a._b({staticClass:"material-design-icon arrow-left-bold-icon",class:[a.data.class,a.data.staticClass],attrs:{"aria-hidden":a.props.decorative,"aria-label":a.props.title,role:"img"}},"span",a.data.attrs,!1),a.listeners),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:a.props.fillColor,width:a.props.size,height:a.props.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M20,9V15H12V19.84L4.16,12L12,4.16V9H20Z"}},[t("title",[a._v(a._s(a.props.title))])])])])},o=[],r=(t("a9e3"),{name:"ArrowLeftBoldIcon",props:{title:{type:String,default:"Arrow Left Bold icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}),n=r,p=t("2877"),l=Object(p["a"])(n,s,o,!0,null,null,null);a["a"]=l.exports}}]);
//# sourceMappingURL=chunk-2dcb967c.a5cd82b7.js.map